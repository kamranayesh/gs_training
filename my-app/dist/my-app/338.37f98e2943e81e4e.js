"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[338],{9338:(v,u,r)=>{r.r(u),r.d(u,{UserModule:()=>h});var g=r(6814),m=r(2129),e=r(95),d=r(8180),o=r(9468),p=r(3317);const c=[{path:"login",component:(()=>{var t;class i{constructor(n,l,s){this.authService=n,this.router=l,this.activeRoute=s,this.loginForm=new e.cw({email:new e.NI("",[e.kI.required]),password:new e.NI("",[e.kI.required])}),this.returnUrl=""}ngOnInit(){this.activeRoute.queryParamMap.pipe((0,d.q)(1)).subscribe(n=>{this.returnUrl=n.has("ret")?n.get("ret"):"/"})}login(){if(this.loginForm.valid){const{email:n,password:l}=this.loginForm.value;this.authService.login(n,l).subscribe(s=>{console.log("result",s),this.authService.createSession(s),this.router.navigateByUrl(this.returnUrl)},s=>{console.log("error",s)})}}}return(t=i).\u0275fac=function(n){return new(n||t)(o.Y36(p.e),o.Y36(m.F0),o.Y36(m.gz))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"form-signin","w-100","m-auto","shadow","rounded","mt-5","bg-light-subtle"],[3,"formGroup","submit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"btn","btn-primary","w-100","py-2","mt-4"]],template:function(n,l){1&n&&(o.TgZ(0,"main",0)(1,"form",1),o.NdJ("submit",function(){return l.login()}),o.TgZ(2,"h1",2),o._uU(3,"Please sign in"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"input",4),o.TgZ(6,"label",5),o._uU(7,"Email address"),o.qZA()(),o.TgZ(8,"div",3),o._UZ(9,"input",6),o.TgZ(10,"label",7),o._uU(11,"Password"),o.qZA()(),o.TgZ(12,"button",8),o._uU(13," Sign in "),o.qZA()()()),2&n&&(o.xp6(1),o.Q6J("formGroup",l.loginForm))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],styles:[".form-signin[_ngcontent-%COMP%]{max-width:500px;padding:2rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),i})()}];let f=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(c),m.Bz]}),i})(),h=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.ez,e.UX,f]}),i})()}}]);