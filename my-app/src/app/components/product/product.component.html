<!-- {{ detectChangeDetection() }} -->

<div class="shadow p-4 text-center bg-white rounded border border-dark-subtle">
  <img
    [src]="data.productImage"
    class="img-thumbnail"
    [routerLink]="['/detail', data.productId]"
    [queryParams]="{ size: 'm', rating: 4 }"
  />
  <h4 class="fs-6 my-2">{{ data.productName | uppercase }}</h4>
  <app-product-price
    [price]="data.productPrice"
    [sellingPrice]="data.productSalePrice"
    [code]="currentCurrencyCode"
  ></app-product-price>
  <button
    class="btn btn-primary btn-sm w-100 mt-2"
    (click)="notifyParent($event)"
    *ngIf="data.productStock > 0; else stock"
  >
    <i class="fa-solid fa-cart-shopping"></i> Add to Cart
  </button>
</div>
<!-- template ref : #ref -->
<ng-template #stock>
  <p>Out of Stock</p>
</ng-template>
<!-- <h5>{{ data.productPrice | currency : "INR" : "code" : "7.1-1" }}</h5> -->

<!-- {{ data.productPrice | discount }} -->
<!-- never use functions inside html to display anything -->
<!-- those functions need to be converted into a pipe -->
<!-- {{ discountCalculation() }} -->
